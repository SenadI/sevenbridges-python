

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quickstart &mdash; sevenbridges-python 0.1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="sevenbridges-python 0.1.0 documentation" href="index.html"/>
        <link rel="next" title="sevenbridges package" href="sevenbridges.html"/>
        <link rel="prev" title="Installation" href="installation.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> sevenbridges-python
          

          
            
            <img src="_static/logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html#get-the-code">Get the Code</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#authentication-and-configuration">Authentication and Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#initializing-the-library">Initializing the library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#import-the-library">Import the library</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#initialize-the-library-using-configuration-file">Initialize the library using configuration file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#initialize-the-library-using-environment">Initialize the library using environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#initialize-library-explicitly">Initialize library explicitly</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notes-on-config-file-format">Notes on config file format</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rate-limit">Rate limit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#managing-users">Managing users</a></li>
<li class="toctree-l2"><a class="reference internal" href="#managing-projects">Managing projects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#list-projects-introduction-to-paging-and-iteration">List Projects - introduction to paging and iteration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-single-project">Get single project</a></li>
<li class="toctree-l3"><a class="reference internal" href="#project-properties">Project properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#about-methods">About methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#project-methods">Project methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#manage-billing">Manage billing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#manage-billing-groups">Manage billing groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="#billing-group-properties">Billing group properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#billing-group-methods">Billing group methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manage-invoices">Manage invoices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#invoice-properties">Invoice properties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#managing-files">Managing files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#file-properties">File properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#file-methods">File methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#managing-apps">Managing apps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#app-properties">App properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#app-methods">App methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#managing-tasks">Managing tasks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#task-properties">Task properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#task-methods">Task methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#task-examples">Task Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#single-task">Single task</a></li>
<li class="toctree-l3"><a class="reference internal" href="#batch-task">Batch task</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sevenbridges.html">sevenbridges package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">sevenbridges-python</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Quickstart</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<div class="section" id="authentication-and-configuration">
<h2>Authentication and Configuration<a class="headerlink" href="#authentication-and-configuration" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>In order to authenticate to the API, sevenbridges-python library
requires that you pass in your authentication token and URL endpoint,
acquired from the Seven Bridges Platform or Seven Bridges related
products like Cancer Genomics Cloud.</p>
<p>You can find your authentication token on the respective platform pages:</p>
<ul class="simple">
<li><a class="reference external" href="https://igor.sbgenomics.com/developers">https://igor.sbgenomics.com/developers</a></li>
<li><a class="reference external" href="https://cgc.sbgenomics.com/developers">https://cgc.sbgenomics.com/developers</a></li>
</ul>
<p>Apart from this, you need to define the API endpoint, which is:</p>
<ul class="simple">
<li><a class="reference external" href="https://api.sbgenomics.com/v2">https://api.sbgenomics.com/v2</a> for Seven Bridges Platform</li>
<li><a class="reference external" href="https://cgc-api.sbgenomics.com/v2">https://cgc-api.sbgenomics.com/v2</a> for the CGC.</li>
</ul>
<p>The api documentation is available:</p>
<ul class="simple">
<li><a class="reference external" href="http://docs.sevenbridges.com/docs/the-api">http://docs.sevenbridges.com/docs/the-api</a> for Seven Bridges Platform.</li>
<li><a class="reference external" href="http://docs.cancergenomicscloud.org/docs/the-cgc-api">http://docs.cancergenomicscloud.org/docs/the-cgc-api</a> for the CGC.</li>
</ul>
<div class="section" id="initializing-the-library">
<h3>Initializing the library<a class="headerlink" href="#initializing-the-library" title="Permalink to this headline">¶</a></h3>
<p>Once you obtain your authentication token you can pass it to the Config
object. You can instantiate your Api object by passing the appropriate
configuration. There are three ways you can configure the library:</p>
<ol class="arabic simple">
<li>Pass parameters <code class="docutils literal"><span class="pre">url</span></code> and <code class="docutils literal"><span class="pre">token</span></code> explicitly when initializing
api object.</li>
<li>Put API endpoint and token in the environment variables <code class="docutils literal"><span class="pre">API_URL</span></code>
and <code class="docutils literal"><span class="pre">AUTH_TOKEN</span></code> respectively.</li>
<li>Use configuration file <code class="docutils literal"><span class="pre">$HOME/.sbgrc</span></code> with defined parameters.</li>
</ol>
<p><em>Note on authentication information</em>:</p>
<p>Keep your authentication token safe, as you would keep any other secret
information. Generally, we recommend using configuration file, as the
authentication token is then stored on user&#8217;s home folder and no strewn
about in code and committed to source code repositories.</p>
</div>
<div class="section" id="import-the-library">
<h3>Import the library<a class="headerlink" href="#import-the-library" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sevenbridges</span> <span class="k">as</span> <span class="nn">sbg</span>
</pre></div>
</div>
<div class="section" id="initialize-the-library-using-configuration-file">
<h4>Initialize the library using configuration file<a class="headerlink" href="#initialize-the-library-using-configuration-file" title="Permalink to this headline">¶</a></h4>
<p>Api object represents the central resource for querying, saving and
performing all sort of actions on your resources. Once you have
instantiated configuration class, pass it to the API class constructor.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">sbg</span><span class="o">.</span><span class="n">Config</span><span class="p">(</span><span class="n">profile</span><span class="o">=</span><span class="s1">&#39;sbpla&#39;</span><span class="p">)</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">sbg</span><span class="o">.</span><span class="n">Api</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="initialize-the-library-using-environment">
<h4>Initialize the library using environment<a class="headerlink" href="#initialize-the-library-using-environment" title="Permalink to this headline">¶</a></h4>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># Usually these would be set in the shell beforehand</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;API_URL&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;https://api.sbgenomics.com/v2&#39;</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;AUTH_TOKEN&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&lt;TOKEN_HERE&gt;&#39;</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">sbg</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">sbg</span><span class="o">.</span><span class="n">Api</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="initialize-library-explicitly">
<h4>Initialize library explicitly<a class="headerlink" href="#initialize-library-explicitly" title="Permalink to this headline">¶</a></h4>
<p>Library can be also instatiated explicity by passing the url and token
as key value arguments.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">api</span> <span class="o">=</span> <span class="n">sbg</span><span class="o">.</span><span class="n">Api</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;https://api.sbgenomics.com/v2&#39;</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="s1">&#39;27d598b71beb4660952739ed5f94ebda&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Note</em> - you can always initialize several API clients with possibly
different credentials or talking to a different environment</p>
</div>
<div class="section" id="notes-on-config-file-format">
<h4>Notes on config file format<a class="headerlink" href="#notes-on-config-file-format" title="Permalink to this headline">¶</a></h4>
<p>Format of the <code class="docutils literal"><span class="pre">.sbgrc</span></code> file is as a simple .ini file format, with
profile shown in brackets.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">sbpla</span><span class="p">]</span>
<span class="n">api</span><span class="o">-</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://api.sbgenomics.com/v2&#39;</span>
<span class="n">auth</span><span class="o">-</span><span class="n">token</span> <span class="o">=</span> <span class="mi">700992</span><span class="n">f7b24a470bb0b028fe813b8100</span>

<span class="p">[</span><span class="n">cgc</span><span class="p">]</span>
<span class="n">api</span><span class="o">-</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://api.sbgenomics.com/v2&#39;</span>
<span class="n">auth</span><span class="o">-</span><span class="n">token</span> <span class="o">=</span> <span class="mi">910975</span><span class="n">f5b24a470bb0b028fe813b8100</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="rate-limit">
<h2>Rate limit<a class="headerlink" href="#rate-limit" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>For requests using authentication, you can issue a maximum of 1000
requests per 300 seconds. Note that this limit is generally subject to
change, depending on API usage and technical limits. Your current rate
limit, the number of remaining request, or the rate reset time can be
obtained using your Api object.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">api</span><span class="o">.</span><span class="n">limit</span><span class="p">,</span> <span class="n">api</span><span class="o">.</span><span class="n">remaining</span><span class="p">,</span> <span class="n">api</span><span class="o">.</span><span class="n">reset_time</span>
</pre></div>
</div>
</div>
<div class="section" id="managing-users">
<h2>Managing users<a class="headerlink" href="#managing-users" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>Currently authenticated user can always access his/her&#8217;s information by
invoking the following method.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">me</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">me</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>me</strong> object now contains user information including:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">me</span><span class="o">.</span><span class="n">href</span>
<span class="n">me</span><span class="o">.</span><span class="n">username</span>
<span class="n">me</span><span class="o">.</span><span class="n">email</span>
<span class="n">me</span><span class="o">.</span><span class="n">first_name</span>
<span class="n">me</span><span class="o">.</span><span class="n">last_name</span>
<span class="n">me</span><span class="o">.</span><span class="n">affiliation</span>
<span class="n">me</span><span class="o">.</span><span class="n">phone</span>
<span class="n">me</span><span class="o">.</span><span class="n">address</span>
<span class="n">me</span><span class="o">.</span><span class="n">city</span>
<span class="n">me</span><span class="o">.</span><span class="n">state</span>
<span class="n">me</span><span class="o">.</span><span class="n">zip_code</span>
<span class="n">me</span><span class="o">.</span><span class="n">country</span>
</pre></div>
</div>
<p>For example to obtain your email invoke:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">me</span><span class="o">.</span><span class="n">email</span>
</pre></div>
</div>
</div>
<div class="section" id="managing-projects">
<h2>Managing projects<a class="headerlink" href="#managing-projects" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>There are several methods on the Api object which can help you manage
your projects.</p>
<p>In order to list or query projects invoke a query method. Query method
follows server pagination and therefore initial pagination parameters
can be passed to the query method. <strong>offset</strong> parameter controls the
start of the pagination while the <strong>limit</strong> parameter controls the
number of items you want to be retrieved.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">project_list</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>project_list</strong> is now an object of the type <strong>Collection</strong> which acts
just like a regular python list. What that means is that is supports
indexing, slicing, iterating and other list functions. All collections
in the python-sbg library have two methods <strong>next_page</strong> and
<strong>previous_page</strong> which allow you to load next pagination page or
previous pagination page.</p>
<div class="section" id="list-projects-introduction-to-paging-and-iteration">
<h3>List Projects - introduction to paging and iteration<a class="headerlink" href="#list-projects-introduction-to-paging-and-iteration" title="Permalink to this headline">¶</a></h3>
<p>There are several things you can do with a collection of any kind of
objects:</p>
<ol class="arabic simple">
<li>The generic query, like <code class="docutils literal"><span class="pre">api.projects.query()</span></code> accepts offset and
limit parameters.</li>
<li>If you wish to iterate on complete collection use <code class="docutils literal"><span class="pre">all()</span></code> method,
which returns an iterator</li>
<li>If you have a need to manually iterate on the collection (page per
page), use <code class="docutils literal"><span class="pre">next_page()</span></code> and <code class="docutils literal"><span class="pre">previous_page()</span></code> methods on the
collection.</li>
<li>You can easily cast the collection to the list, so you can re-use it
later by issuing Python standard
<code class="docutils literal"><span class="pre">project_list</span> <span class="pre">=</span> <span class="pre">list(api.projects.query().all())</span></code>.</li>
</ol>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Query first 10 projects.</span>
<span class="n">project_list</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Iterate on all projects and print out name and id</span>
<span class="k">for</span> <span class="n">project</span> <span class="ow">in</span> <span class="n">api</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">query</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
    <span class="nb">print</span> <span class="p">(</span><span class="n">project</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="n">project</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Get all my current projects and store them in a list</span>
<span class="n">my_projects</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">api</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">query</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="section" id="get-single-project">
<h3>Get single project<a class="headerlink" href="#get-single-project" title="Permalink to this headline">¶</a></h3>
<p>You can get a single project by issuing <code class="docutils literal"><span class="pre">api.projects.get()</span></code> method
with a parameter <code class="docutils literal"><span class="pre">id</span></code>, signifying the id of a project. Note that this
call, as well as other calls to the API server will raise an Exception
which you can catch and process if required.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sevenbridges.errors</span> <span class="k">import</span> <span class="n">SbgError</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">project_id</span> <span class="o">=</span> <span class="s1">&#39;doesnotexist/forsure&#39;</span>
    <span class="n">project</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">project_id</span><span class="p">)</span>
<span class="k">except</span> <span class="n">SbgError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Note</em> - when you wish to process errors from the library, you need to
import errors from <code class="docutils literal"><span class="pre">sevenbridges.errors</span></code>.</p>
<p>Most often you will use <code class="docutils literal"><span class="pre">SbgError</span></code>, as this error has properties
<code class="docutils literal"><span class="pre">code</span></code> and <code class="docutils literal"><span class="pre">message</span></code> which relate to API status codes:</p>
<ul class="simple">
<li><a class="reference external" href="http://docs.sevenbridges.com/docs/api-status-codes">http://docs.sevenbridges.com/docs/api-status-codes</a> for Seven Bridges
Platform</li>
<li><a class="reference external" href="http://docs.cancergenomicscloud.org/docs/api-status-codes">http://docs.cancergenomicscloud.org/docs/api-status-codes</a> for the
CGC.</li>
</ul>
</div>
<div class="section" id="project-properties">
<h3>Project properties<a class="headerlink" href="#project-properties" title="Permalink to this headline">¶</a></h3>
<p>Once you have your Project instance it has the following properties
attached:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">project</span><span class="o">.</span><span class="n">href</span> <span class="o">-</span> <span class="n">project</span> <span class="n">href</span> <span class="n">on</span> <span class="n">the</span> <span class="n">API</span>
<span class="n">project</span><span class="o">.</span><span class="n">id</span> <span class="o">-</span> <span class="nb">id</span> <span class="n">of</span> <span class="n">the</span> <span class="n">project</span>
<span class="n">project</span><span class="o">.</span><span class="n">name</span> <span class="o">-</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">project</span>
<span class="n">project</span><span class="o">.</span><span class="n">description</span> <span class="o">-</span> <span class="n">description</span> <span class="n">of</span> <span class="n">the</span> <span class="n">project</span>
<span class="n">project</span><span class="o">.</span><span class="n">billing_group</span> <span class="o">-</span> <span class="n">billing</span> <span class="n">group</span> <span class="n">attached</span> <span class="n">to</span> <span class="n">the</span> <span class="n">project</span>
<span class="n">project</span><span class="o">.</span><span class="n">type</span> <span class="o">-</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">the</span> <span class="n">project</span> <span class="p">(</span><span class="n">v1</span> <span class="ow">or</span> <span class="n">v2</span><span class="p">)</span>
<span class="n">project</span><span class="o">.</span><span class="n">tags</span> <span class="o">-</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">project</span> <span class="n">tags</span>
</pre></div>
</div>
<p><strong>href</strong> property is a url on the server that uniquely identifies the
resource. All resources will have this property attached. Project also
has its name, identifier, description its type and tags and also a
billing_group identifier representing the billing group that is
attached to the project.</p>
</div>
<div class="section" id="about-methods">
<h3>About methods<a class="headerlink" href="#about-methods" title="Permalink to this headline">¶</a></h3>
<p>There are two types of methods in sevenbridges-python library, static
and dynamic. Static methods are invoked on the API object instance and
dynamic from the instance of the object representing the resource.</p>
<p>Static methods are:</p>
<ol class="arabic simple">
<li>Create a new resource -
<code class="docutils literal"><span class="pre">api.projects.create(name=&quot;My</span> <span class="pre">new</span> <span class="pre">project&quot;,</span> <span class="pre">billing_group='296a98a9-424c-43f3-aec5-306e0e41c799')</span></code>
- creates a new resource. The parameters depend on the resource in
question</li>
<li>Get resource - <code class="docutils literal"><span class="pre">api.projects.get(id='user/project')</span></code> - returns a
specific resource, denoted by the id</li>
<li>Query resources - <code class="docutils literal"><span class="pre">api.projects.query()</span></code> method returns a pageable
list of type <code class="docutils literal"><span class="pre">Collection</span></code>. The same goes for other resources, so
<code class="docutils literal"><span class="pre">api.tasks.query(status='COMPLETED')</span></code> returns a Collection of
completed tasks with applied default paging.</li>
</ol>
<p>Dynamic methods can be generic (for all resources) and specific. They
are called on the concrete object, like a <code class="docutils literal"><span class="pre">Project</span></code> object.</p>
<p>So if we have <code class="docutils literal"><span class="pre">project</span></code> variable as a <code class="docutils literal"><span class="pre">Project</span></code> object:</p>
<ol class="arabic simple">
<li>Delete resource - <code class="docutils literal"><span class="pre">project.delete()</span></code> - deletes object (if supported
on the API).</li>
<li>Reload resource from server - <code class="docutils literal"><span class="pre">project.reload()</span></code> - reloads state of
the object from the server.</li>
<li>Save changes to server - <code class="docutils literal"><span class="pre">project.save()</span></code> - saves all properties
modified on the library</li>
</ol>
</div>
<div class="section" id="project-methods">
<h3>Project methods<a class="headerlink" href="#project-methods" title="Permalink to this headline">¶</a></h3>
<p>The following example shows some manipulation of projects.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Get a collection of projects</span>
<span class="n">projects</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">query</span><span class="p">()</span>

<span class="c1"># Grab first billing group</span>
<span class="n">bg</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">billing_groups</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Create a project using the billing group</span>
<span class="n">new_project</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;My new project&quot;</span><span class="p">,</span> <span class="n">billing_group</span><span class="o">=</span><span class="n">bg</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

<span class="c1"># Add a new member to the project</span>
<span class="n">new_project</span><span class="o">.</span><span class="n">add_member</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s1">&#39;newuser&#39;</span><span class="p">,</span> <span class="n">permissions</span><span class="o">=</span> <span class="p">{</span><span class="s1">&#39;write&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;execute&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">})</span>
</pre></div>
</div>
<p>Other project methods include:</p>
<ol class="arabic simple">
<li>Get members of the project and their permissions -
<code class="docutils literal"><span class="pre">project.get_members()</span></code> - returns a <code class="docutils literal"><span class="pre">Collection</span></code> of members and
their permissions</li>
<li>Add member to the project - <code class="docutils literal"><span class="pre">project.add_member()</span></code></li>
<li>Remove member from the project - <code class="docutils literal"><span class="pre">project.remove_member()</span></code></li>
<li>List files from the project - <code class="docutils literal"><span class="pre">project.get_files()</span></code></li>
<li>Add files to the project - <code class="docutils literal"><span class="pre">project.add_files</span></code> - you can add a
single <code class="docutils literal"><span class="pre">File</span></code> or a <code class="docutils literal"><span class="pre">Collection</span></code> of files</li>
<li>List apps from the project - <code class="docutils literal"><span class="pre">project.get_apps()</span></code></li>
<li>List tasks from the project - <code class="docutils literal"><span class="pre">project.get_tasks</span></code></li>
</ol>
</div>
</div>
<div class="section" id="manage-billing">
<h2>Manage billing<a class="headerlink" href="#manage-billing" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>There are several methods on the Api object which can help you manage
your billing information. The billing interface is separated to managing
<em>billing groups</em> and <em>invoices</em>.</p>
<div class="section" id="manage-billing-groups">
<h3>Manage billing groups<a class="headerlink" href="#manage-billing-groups" title="Permalink to this headline">¶</a></h3>
<p>Querying billing groups will return a standard collection object.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Query billing groups</span>
<span class="n">bgroup_list</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">billing_groups</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Fetching billing group information</span>
<span class="n">bg</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">billing_groups</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;f1969c90-da54-4118-8e96-c3f0b49a163d&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="billing-group-properties">
<h3>Billing group properties<a class="headerlink" href="#billing-group-properties" title="Permalink to this headline">¶</a></h3>
<p>The following are properties that are attached to each billing group.</p>
<p><code class="docutils literal"><span class="pre">href</span></code> - Billing group href on the API server.</p>
<p><code class="docutils literal"><span class="pre">id</span></code> - Billing group identifier.</p>
<p><code class="docutils literal"><span class="pre">owner</span></code> - Username of the user that owns the billing group.</p>
<p><code class="docutils literal"><span class="pre">name</span></code> - Billing group name.</p>
<p><code class="docutils literal"><span class="pre">type</span></code> - Billing group type (free or regular)</p>
<p><code class="docutils literal"><span class="pre">pending</span></code> - True if billing group is not yet approved, False if
opposite is true.</p>
<p><code class="docutils literal"><span class="pre">diabled</span></code> - True if billing group is disabled, False if its enabled.</p>
<p><code class="docutils literal"><span class="pre">balance</span></code> - Billing group balance.</p>
</div>
<div class="section" id="billing-group-methods">
<h3>Billing group methods<a class="headerlink" href="#billing-group-methods" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">breakdown()</span></code> - Fetches billing group breakdwon for this billing
groups that contains costs breakdown by projects and analysis.</p>
</div>
<div class="section" id="manage-invoices">
<h3>Manage invoices<a class="headerlink" href="#manage-invoices" title="Permalink to this headline">¶</a></h3>
<p>Querying invoices will return a Invoices collection object.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">invoices</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">invoices</span><span class="o">.</span><span class="n">query</span><span class="p">()</span>
</pre></div>
</div>
<p>Once you have obtain the invoice identifier you can also fetch specific
invoice information.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">invoices</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">invoices</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;6351830069&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="invoice-properties">
<h3>Invoice properties<a class="headerlink" href="#invoice-properties" title="Permalink to this headline">¶</a></h3>
<p>The following are properties that are attached to each billing group.</p>
<p><code class="docutils literal"><span class="pre">href</span></code> - Invoice href on the API server.</p>
<p><code class="docutils literal"><span class="pre">id</span></code> - Invoice identifier.</p>
<p><code class="docutils literal"><span class="pre">pending</span></code> - <code class="docutils literal"><span class="pre">True</span></code> if invoice is not yet approved, <code class="docutils literal"><span class="pre">False</span></code> if
invoice is approved.</p>
<p><code class="docutils literal"><span class="pre">analysis_costs</span></code> - Costs of your analysis.</p>
<p><code class="docutils literal"><span class="pre">storage_costs</span></code> - Storage costs.</p>
<p><code class="docutils literal"><span class="pre">total</span></code> - Total costs.</p>
<p><code class="docutils literal"><span class="pre">invoice_period</span></code> - Invoicing period (from-to)</p>
</div>
</div>
<div class="section" id="managing-files">
<h2>Managing files<a class="headerlink" href="#managing-files" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>Files are integral part of each analysis. And as all other resources
with sevenbridges-python library user is able to efectivly query files,
get the specific file information and metadata. It can be achived in the
same manner as it was presented in projects and billing. Available
methods for fetching specific files is either <code class="docutils literal"><span class="pre">query</span></code> or a <code class="docutils literal"><span class="pre">get</span></code>
method.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Querying files</span>
<span class="n">file_list</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="s1">&#39;user/my-project&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Getting single file information</span>
<span class="n">file</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;5710141760b2b14e3cc146af&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="file-properties">
<h3>File properties<a class="headerlink" href="#file-properties" title="Permalink to this headline">¶</a></h3>
<p>Each of the files has the following properties attached:</p>
<p><code class="docutils literal"><span class="pre">href</span></code> - File href on the API server.</p>
<p><code class="docutils literal"><span class="pre">id</span></code> - File identifier.</p>
<p><code class="docutils literal"><span class="pre">name</span></code> - File name.</p>
<p><code class="docutils literal"><span class="pre">size</span></code> - File size in bytes.</p>
<p><code class="docutils literal"><span class="pre">project</span></code> - Identifier of the project that file is located in.</p>
<p><code class="docutils literal"><span class="pre">created_on</span></code> - Date of the file creation.</p>
<p><code class="docutils literal"><span class="pre">modified_on</span></code> - Last modification of the file.</p>
<p><code class="docutils literal"><span class="pre">origin</span></code> - File origin information.</p>
<p><code class="docutils literal"><span class="pre">metadata</span></code> - File metadata</p>
</div>
<div class="section" id="file-methods">
<h3>File methods<a class="headerlink" href="#file-methods" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Refresh file with data from the server. <code class="docutils literal"><span class="pre">reload()</span></code></li>
<li>Copy file from one to another project. <code class="docutils literal"><span class="pre">copy()</span></code></li>
<li>Download file. <code class="docutils literal"><span class="pre">download()</span></code></li>
<li>Save modifications to the server <code class="docutils literal"><span class="pre">save()</span></code></li>
</ul>
</div>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Filter files per name containing certain string</span>
<span class="n">files</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="s1">&#39;user/my-project&#39;</span><span class="p">)</span>
<span class="n">my_file</span> <span class="o">=</span> <span class="p">[</span><span class="n">file</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span> <span class="k">if</span> <span class="s1">&#39;fasta&#39;</span> <span class="ow">in</span> <span class="n">file</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>

<span class="c1"># Or simply query files by name if you know the exact name</span>
<span class="n">files</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="s1">&#39;user/myproject&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;SRR062634.filt.fastq.gz&#39;</span><span class="p">)</span>
<span class="n">my_files</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="s1">&#39;user/myproject&#39;</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;sample_id&#39;</span><span class="p">:</span> <span class="s1">&#39;SRR062634&#39;</span><span class="p">}</span> <span class="p">)</span>


<span class="c1"># Edit metadata</span>
<span class="n">my_file</span> <span class="o">=</span> <span class="n">my_files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">my_file</span><span class="p">[</span><span class="s1">&#39;sample_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;my-sample&#39;</span>
<span class="n">my_file</span><span class="p">[</span><span class="s1">&#39;library&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;my-library&#39;</span>

<span class="c1"># Save modifications</span>
<span class="n">my_file</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

<span class="c1"># Copy file</span>
<span class="n">new_file</span> <span class="o">=</span> <span class="n">my_file</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="s1">&#39;user/my-other-project&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;my-new-file&#39;</span><span class="p">)</span>

<span class="c1"># Download file - by default it downloads the file with the same name to the current working directory</span>
<span class="n">new_file</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="managing-apps">
<h2>Managing apps<a class="headerlink" href="#managing-apps" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>Managing apps with sevenbridges-python library is simple. Apps on Seven
Bridges Platform and CGC are implemented using Common Workflow Language
specification
<a class="reference external" href="https://github.com/common-workflow-language/common-workflow-language">https://github.com/common-workflow-language/common-workflow-language</a>.
The sevenbridges-python currenty supports only Draft 2 format of the
CWL.</p>
<p>Querying apps or getting a single app resource is available in the same
way as on other resources, using <code class="docutils literal"><span class="pre">query()</span></code> and <code class="docutils literal"><span class="pre">get</span></code> methods. You
can also invoke the following class methods:</p>
<ul class="simple">
<li>&#8216;get_revision()&#8217; - Returns specific app revision.</li>
<li>&#8216;install_app()&#8217; - Installs you CWL app on the server.</li>
<li>&#8216;create_revision()&#8217; - Creates a new revision from the specific app.</li>
</ul>
<div class="section" id="app-properties">
<h3>App properties<a class="headerlink" href="#app-properties" title="Permalink to this headline">¶</a></h3>
<p>The following is the list of available app properties.</p>
<p><code class="docutils literal"><span class="pre">href</span></code> - App href on the API server.</p>
<p><code class="docutils literal"><span class="pre">id</span></code> - App identifier.</p>
<p><code class="docutils literal"><span class="pre">name</span></code> - App name.</p>
<p><code class="docutils literal"><span class="pre">project</span></code> - Identifier of the project that app is located in.</p>
<p><code class="docutils literal"><span class="pre">revision</span></code> - App revision.</p>
<p><code class="docutils literal"><span class="pre">raw</span></code> - raw CWL format of the app.</p>
</div>
<div class="section" id="app-methods">
<h3>App methods<a class="headerlink" href="#app-methods" title="Permalink to this headline">¶</a></h3>
<p>Currently there is only one instance method and that is <code class="docutils literal"><span class="pre">save()</span></code> which
saves the app changes on the server.</p>
</div>
</div>
<div class="section" id="managing-tasks">
<h2>Managing tasks<a class="headerlink" href="#managing-tasks" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>Tasks are easy to handle using sevenbridges-python library. As with all
resources you can <code class="docutils literal"><span class="pre">query()</span></code> your tasks, <code class="docutils literal"><span class="pre">get()</span></code> a single task
instance, but also do much more. We will outline task properties and
methods and show in the examples how easy is to run your first analysis.</p>
<div class="section" id="task-properties">
<h3>Task properties<a class="headerlink" href="#task-properties" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">href</span></code> - Task href on the API server.</p>
<p><code class="docutils literal"><span class="pre">id</span></code> - Task identifier.</p>
<p><code class="docutils literal"><span class="pre">name</span></code> - Task name.</p>
<p><code class="docutils literal"><span class="pre">status</span></code> - Task status.</p>
<p><code class="docutils literal"><span class="pre">project</span></code> - Identifier of the project that task is located in.</p>
<p><code class="docutils literal"><span class="pre">app</span></code> - The app identifier that was used for this analysis.</p>
<p><code class="docutils literal"><span class="pre">type</span></code> - Task type.</p>
<p><code class="docutils literal"><span class="pre">created_by</span></code> - Username of task creator.</p>
<p><code class="docutils literal"><span class="pre">executed_by</span></code>- Username of the task executor.</p>
<p><code class="docutils literal"><span class="pre">batch</span></code> - Boolean flag. True for batch tasks, False for regular &amp;
child tasks.</p>
<p><code class="docutils literal"><span class="pre">batch_by</span></code> - Batching criteria.</p>
<p><code class="docutils literal"><span class="pre">batch_group</span></code> - Batch group assigned to the child task calculated from
the <code class="docutils literal"><span class="pre">batch_by</span></code> criteria.</p>
<p><code class="docutils literal"><span class="pre">batch_input</span></code> - Input identifier on to wich to apply batching.</p>
<p><code class="docutils literal"><span class="pre">parent</span></code> - Parent task for a batch child.</p>
<p><code class="docutils literal"><span class="pre">end_time</span></code> - Task end time.</p>
<p><code class="docutils literal"><span class="pre">execution_status</span></code> - Task execution status.</p>
<p><code class="docutils literal"><span class="pre">price</span></code> - Analysis cost.</p>
<p><code class="docutils literal"><span class="pre">inputs</span></code> - Inputs that were subbmited to the task.</p>
<p><code class="docutils literal"><span class="pre">outputs</span></code> - Generated outputs from the analysis.</p>
</div>
<div class="section" id="task-methods">
<h3>Task methods<a class="headerlink" href="#task-methods" title="Permalink to this headline">¶</a></h3>
<p>The following represents the list of available class and instance
methods.</p>
<ul class="simple">
<li>Create a task on the server and run it optionaly - <code class="docutils literal"><span class="pre">create()</span></code>.</li>
<li>Query tasks - <code class="docutils literal"><span class="pre">query()</span></code>.</li>
<li>Get single task information - <code class="docutils literal"><span class="pre">get()</span></code>.</li>
<li>Abort a running task - <code class="docutils literal"><span class="pre">abort()</span></code>.</li>
<li>Run a draft task. - <code class="docutils literal"><span class="pre">run()</span></code></li>
<li>Delete a draft task from the server. - <code class="docutils literal"><span class="pre">delete()</span></code>.</li>
<li>Refresh the task object information with the date from the server. -
<code class="docutils literal"><span class="pre">refresh()</span></code>.</li>
<li>Save task modifications to the sever. - <code class="docutils literal"><span class="pre">save()</span></code>.</li>
<li>Get task exection datails. - <code class="docutils literal"><span class="pre">get_execution_details()</span></code>.</li>
<li>Get batch children if task is a batch task. -
<code class="docutils literal"><span class="pre">get_batch_children()</span></code>.</li>
</ul>
</div>
<div class="section" id="task-examples">
<h3>Task Examples<a class="headerlink" href="#task-examples" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="single-task">
<h3>Single task<a class="headerlink" href="#single-task" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Task name</span>
<span class="n">task_name</span> <span class="o">=</span> <span class="s1">&#39;my-first-task&#39;</span>

<span class="c1"># Project in which I want to run a task.</span>
<span class="n">project_id</span> <span class="o">=</span> <span class="s1">&#39;my-username/my-project&#39;</span>

<span class="c1"># App I want to use to run a task</span>
<span class="n">app</span> <span class="o">=</span> <span class="s1">&#39;my-username/my-project/my-app&#39;</span>

<span class="c1"># Inputs</span>
<span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;FastQC-Reads&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="s1">&#39;my-project&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;some-sample&#39;</span><span class="p">})</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="n">project</span><span class="p">,</span> <span class="n">app</span><span class="o">=</span><span class="n">app</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">except</span> <span class="n">SbError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;I was unable to run the task.&#39;</span><span class="p">)</span>

<span class="c1"># Task can also be ran by invoking .run() method on the draft task.</span>
<span class="n">task</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="batch-task">
<h3>Batch task<a class="headerlink" href="#batch-task" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Task name</span>
<span class="n">task_name</span> <span class="o">=</span> <span class="s1">&#39;my-first-task&#39;</span>

<span class="c1"># Project in which I want to run a task.</span>
<span class="n">project_id</span> <span class="o">=</span> <span class="s1">&#39;my-username/my-project&#39;</span>

<span class="c1"># App I want to use to run a task</span>
<span class="n">app</span> <span class="o">=</span> <span class="s1">&#39;my-username/my-project/my-app&#39;</span>

<span class="c1"># Inputs</span>
<span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;FastQC-Reads&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="s1">&#39;my-project&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;some-sample&#39;</span><span class="p">})</span>

<span class="c1"># Specifying that task should be created on per file basis.</span>
<span class="n">bach_by</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;item&#39;</span><span class="p">}</span>


<span class="c1"># Batch input is going to be FastQC-Reads</span>
<span class="n">batch_input</span> <span class="o">=</span> <span class="s1">&#39;FastQC-Reads&#39;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="n">project</span><span class="p">,</span> <span class="n">app</span><span class="o">=</span><span class="n">app</span><span class="p">,</span>
                            <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span> <span class="n">batch_input</span><span class="o">=</span><span class="n">batch_input</span><span class="p">,</span> <span class="n">batch_by</span><span class="o">=</span><span class="n">batch_by</span> <span class="n">run</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">except</span> <span class="n">SbError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;I was unable to run a batch task.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sevenbridges.html" class="btn btn-neutral float-right" title="sevenbridges package" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installation" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Seven Bridges Genomics Inc..

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>